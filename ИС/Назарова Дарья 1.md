# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ1
## –ù–µ—á–µ—Ç–∫–∞—è –ª–æ–≥–∏–∫–∞

–ß–∞—Å—Ç—å 1: –ò–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ (numpy), –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ (matplotlib), —Ä–∞–±–æ—Ç—ã —Å —Ü–≤–µ—Ç–∞–º–∏ (matplotlib.colors), –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π (math) –∏ —Å–æ–∑–¥–∞–Ω–∏—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ (itertools).




```python
import matplotlib.pylab as plt
from matplotlib import colors
import numpy as np
import math
from itertools import product
```

–ß–∞—Å—Ç—å 2: –§—É–Ω–∫—Ü–∏—è —Ç—Ä–µ—É–≥–æ–ª—å–Ω–æ–≥–æ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è triangle_FS —Å–æ–∑–¥–∞–µ—Ç —Ç—Ä–µ—É–≥–æ–ª—å–Ω–æ–µ –Ω–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ. –û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ U, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã a, b, c, d, h, –∏ –∞—Ä–≥—É–º–µ–Ω—Ç form, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π —Ñ–æ—Ä–º—É –Ω–µ—á–µ—Ç–∫–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ (equal, greater, less). –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –Ω–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ, –≥–¥–µ –∫–ª—é—á–∏ - —ç–ª–µ–º–µ–Ω—Ç—ã —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞, –∞ –∑–Ω–∞—á–µ–Ω–∏—è - —Å—Ç–µ–ø–µ–Ω–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏.


```python
def triangle_FS(U, a=None, b=None, c=None, d=None, h=1, form='equal'):
    if form in ['equal', 'greater', 'less']:
        if a is None:
            a = U.min()
        if d is None:
            d = U.max()
        if b is None:
            if c is None:
                b = (a + d) / 2.
            else:
                b = c
        if c is None:
            c = b
        Mu = dict()
        if a > U.min():
            for el in U[U <= a]:
                Mu[el] = h if form == 'less' else 0.
        if d < U.max():
            for el in U[U >= d]:
                r = h if form == 'greater' else 0.
                z = Mu.get(el, 0)
                Mu[el] = r if r > z else z
        if a < b:
            for el in U[(U >= a) & (U <= b)]:
                r = 0. if form == 'greater' else h * float(el - a) / (b - a) if form == 'equal' else h * float(b - el) / (b - a)
                z = Mu.get(el, 0)
                Mu[el] = r if r > z else z
        if b < c:
            for el in U[(U >= b) & (U <= c)]:
                r = h if form == 'equal' else 0.
                z = Mu.get(el, 0)
                Mu[el] = r if r > z else z
        if c < d:
            for el in U[(U >= c) & (U <= d)]:
                r = 0. if form == 'less' else h * float(el - c) / (d - c) if form == 'greater' else h * float(d - el) / (d - c)
                z = Mu.get(el, 0)
                Mu[el] = r if r > z else z
        return Mu
    else:
        print('Unknown form')
        return None

```

–ß–∞—Å—Ç—å 3: –§—É–Ω–∫—Ü–∏—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è FS_plot –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –Ω–µ—á–µ—Ç–∫–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞, –∏—Å–ø–æ–ª—å–∑—É—è –±–∏–±–ª–∏–æ—Ç–µ–∫—É matplotlib. –û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤ FS, —Ü–≤–µ—Ç–∞, –º–µ—Ç–∫–∏ (labels), –∑–∞–≥–æ–ª–æ–≤–æ–∫ (title) –∏ –∏–º—è —Ñ–∞–π–ª–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ (name). –û–Ω–∞ —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ–∏–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –≤ —Å–ø–∏—Å–∫–µ.


```python
def FS_plot(FS, colors=colors.cnames.keys(), labels=None, title=None, name=None):
    for idx, el in enumerate(FS):
        mas = np.array(sorted(el.items(), key=lambda x: x[0])).T
        if labels is None:
            lab = ' '
        else:
            lab = labels[idx]
        # plt.plot(mas[0], mas[1], color=list(colors)[idx], label=lab)
        my_colors = ['purple', 'pink', 'green', 'blue', 'red', 'brown', 'black', 'magenta', 'yellow']
        plt.plot(mas[0], mas[1], color=(my_colors[idx]), label=lab)
    if labels is not None:
        plt.legend(loc='upper right')
    if title is not None:
        plt.title(title)
    if name is not None:
        plt.savefig(name + '.png', format='png', dpi=100)
    plt.show()
```

–ß–∞—Å—Ç—å 4: –ü—Ä–∏–º–µ—Ä –Ω–µ—á–µ—Ç–∫–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏–º–µ—Ä—ã –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤ Pr1, Pr2, Pr3 –∏ Pr4, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏—é triangle_FS, –∏ —Å—Ç—Ä–æ–∏—Ç—Å—è –∏—Ö –≥—Ä–∞—Ñ–∏–∫ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ FS_plot. –¢–∞–∫–∂–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ 25 –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ Pr1.


```python
Spr = np.arange(1, 101, 1)
Pr1 = triangle_FS(Spr, a=20, b=40, c=60, d=80)
Pr2 = triangle_FS(Spr, a=20, b=40, c=60, d=80, form='less')
Pr3 = triangle_FS(Spr, a=20, b=40, c=60, d=80, form='greater')
FS_plot([Pr1, Pr2, Pr3], labels=['medium_speed', 'low_speed', 'high_speed'])

Pr4 = triangle_FS(Spr)
# FS_plot([Pr4], title='–ò–¥–µ–∞–ª—å–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ')
print(Pr1[25])
```


    
![png](output_8_0.png)
    


    0.25
    

–ß–∞—Å—Ç—å 5: –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –Ω–µ—á–µ—Ç–∫–æ–π –ª–æ–≥–∏–∫–∏

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–µ—á–µ—Ç–∫–æ–π –ª–æ–≥–∏–∫–∏: –ò (F_And), –ò–õ–ò (F_Or) –∏ –ù–ï (F_Not). –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –º–µ—Ç–æ–¥—ã 'minmax' (–º–∏–Ω–∏–º—É–º/–º–∞–∫—Å–∏–º—É–º) –∏ 'probability' (–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–π).


```python
def F_And(FV, method='minmax'):
    if method == 'minmax':
        return np.min(FV)
    elif method == 'probability':
        return np.product(FV)
    else:
        print('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –º–µ—Ç–æ–¥ ', method)
        return None


def F_Or(FV, method='minmax'):
    if method == 'minmax':
        return np.max(FV)
    elif method == 'probability':
        mu = 0
        for el in FV:
            mu = mu + el - mu * el
        return mu
    else:
        print('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –º–µ—Ç–æ–¥ ', method)
        return None


def F_Not(V1):
    return 1 - V1
```

–ß–∞—Å—Ç—å 6: –§—É–Ω–∫—Ü–∏—è –∞–ª—å—Ñ–∞-—Å—Ä–µ–∑–∞

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è alpha_srez –≤—ã—á–∏—Å–ª—è–µ—Ç –∞–ª—å—Ñ–∞-—Å—Ä–µ–∑ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞. –û–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Å—Ç–µ–ø–µ–Ω—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –∫–æ—Ç–æ—Ä—ã—Ö –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–∞ –∑–∞–¥–∞–Ω–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é alpha.


```python
def alpha_srez(FS, alpha=0.5):
    alph = 1e-10 if alpha == 0. else alpha
    mas = np.array(list(FS.items())).T
    # print (FS.items())
    return set(mas[0][mas[1] >= alph])
```

–ß–∞—Å—Ç—å 7: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–æ–º–µ–Ω—Ç–∞ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è FS_moment –≤—ã—á–∏—Å–ª—è–µ—Ç –º–æ–º–µ–Ω—Ç –∏–Ω–µ—Ä—Ü–∏–∏ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞. –û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ FS –∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Ü–µ–Ω—Ç—Ä centr.


```python
def FS_moment(FS, centr=None):
    mas = np.array(list(FS.items())).T
    if centr is None:
        Cntr_g = np.sum(mas[0] * mas[1]) / np.sum(mas[1])
    else:
        Cntr_g = centr
    return np.sum(mas[1] * np.square(mas[0] - Cntr_g))
```

–ß–∞—Å—Ç—å 8: –§—É–Ω–∫—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è –Ω–µ—á–µ—Ç–∫–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è FS_describe –≤—ã—á–∏—Å–ª—è–µ—Ç –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –Ω–µ—á–µ—Ç–∫–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞, —Ç–∞–∫–∏–µ –∫–∞–∫ –≤—ã—Å–æ—Ç–∞, –º–æ—â–Ω–æ—Å—Ç—å, –¥–∏–∞–ø–∞–∑–æ–Ω, —Ü–µ–Ω—Ç—Ä —Ç—è–∂–µ—Å—Ç–∏, –º–æ–º–µ–Ω—Ç –∏–Ω–µ—Ä—Ü–∏–∏ –∏ –º–µ—Ä—ã —Ä–∞–∑–º—ã—Ç–æ—Å—Ç–∏.


```python
def FS_describe(FS, method='minmax', verbose='True'):
    mas = np.array(list(FS.items())).T
    h = np.max(mas[1])
    N = np.sum(mas[1] > 0)
    Min_el = np.min(mas[0][mas[1] > 0])
    Max_el = np.max(mas[0][mas[1] > 0])
    Fst_max = np.min(mas[0][mas[1] == h])
    Lst_max = np.max(mas[0][mas[1] == h])
    Cntr_max = mas[0][mas[1] == h].mean()
    Cntr_grav = np.sum(mas[0] * mas[1]) / np.sum(mas[1])
    Mmnt_in = FS_moment(FS)
    R1 = -np.sum([0 if x == 0 else x * np.log2(x) for x in mas[1]])
    R1n = (2. * R1) / len(mas[1])
    R2 = 2. / len(mas[1]) * np.sum([F_And([x, F_Not(x)], method=method) for x in mas[1]])
    R3 = 2. / np.sqrt(len(mas[1])) * np.sqrt(np.sum([F_And([x, F_Not(x)], method=method) ** 2 for x in mas[1]]))
    if verbose:
        print('–í—ã—Å–æ—Ç–∞= ', h)
        print('–ú–æ—â–Ω–æ—Å—Ç—å= ', N)
        print('–î–∏–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω–∏–π: ', (Min_el, Max_el))
        print('–ú–∞–∫—Å–∏–º—É–º—ã: ', (Fst_max, Cntr_max, Lst_max))
        print('–¶–µ–Ω—Ç—Ä —Ç—è–∂–µ—Å—Ç–∏= ', Cntr_grav)
        print('–ú–æ–º–µ–Ω—Ç –∏–Ω–µ—Ä—Ü–∏–∏= ', Mmnt_in)
        print('–†–∞–∑–º—ã—Ç–æ—Å—Ç—å: ')
        print('–≠–Ω—Ç—Ä–æ–ø–∏–π–Ω–∞—è –º–µ—Ä–∞= ', (R1, R1n))
        print('–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 1 (–ª–∏–Ω–µ–π–Ω–∞—è)= ', R2)
        print('–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 2 (–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è)= ', R3)
    return (h, N, (Min_el, Max_el), (Fst_max, Cntr_max, Lst_max), Cntr_grav, Mmnt_in, ((R1, R1n), R2, R3))
```

–ß–∞—Å—Ç—å 9: –ü—Ä–∏–º–µ—Ä—ã –æ–ø–∏—Å–∞–Ω–∏—è –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ FS_describe —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –Ω–µ—á–µ—Ç–∫–∏–º–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏ (Pr1, D_pr1, D_pr2). –¢–∞–∫–∂–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ä–∞–∑–º—ã—Ç–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ (D_pr1) –∏ —Å–ª—É—á–∞–π–Ω–æ–µ —á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ (D_pr2).


```python
# print (alpha_srez (Pr1, alpha=0.5))
r = FS_describe(Pr1)

# print (FS_moment (Pr1, r[3][0]))
# print (FS_moment (Pr1, r[3][1]))
# print (FS_moment (Pr1, r[3][2]))
D_pr1 = triangle_FS(Spr, b=0, c=100, h=0.5)
FS_plot([D_pr1], title='–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ä–∞–∑–º—ã—Ç–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ', name='p6')
r = FS_describe(D_pr1)

D_pr2 = dict()
for el in Spr:
    D_pr2[el] = np.random.randint(2)
FS_plot([D_pr2], title='–°–ª—É—á–∞–π–Ω–æ–µ —Å—Ç—Ä–æ–≥–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ', name='p6')
r = FS_describe(D_pr2)
```

    –í—ã—Å–æ—Ç–∞=  1.0
    –ú–æ—â–Ω–æ—Å—Ç—å=  59
    –î–∏–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω–∏–π:  (21.0, 79.0)
    –ú–∞–∫—Å–∏–º—É–º—ã:  (40.0, 50.0, 60.0)
    –¶–µ–Ω—Ç—Ä —Ç—è–∂–µ—Å—Ç–∏=  50.0
    –ú–æ–º–µ–Ω—Ç –∏–Ω–µ—Ä—Ü–∏–∏=  6660.0
    –†–∞–∑–º—ã—Ç–æ—Å—Ç—å: 
    –≠–Ω—Ç—Ä–æ–ø–∏–π–Ω–∞—è –º–µ—Ä–∞=  (14.355046155633588, 0.28710092311267177)
    –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 1 (–ª–∏–Ω–µ–π–Ω–∞—è)=  0.2
    –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 2 (–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è)=  0.3660601043544625
    


    
![png](output_18_1.png)
    


    –í—ã—Å–æ—Ç–∞=  0.5
    –ú–æ—â–Ω–æ—Å—Ç—å=  100
    –î–∏–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω–∏–π:  (1.0, 100.0)
    –ú–∞–∫—Å–∏–º—É–º—ã:  (1.0, 50.5, 100.0)
    –¶–µ–Ω—Ç—Ä —Ç—è–∂–µ—Å—Ç–∏=  50.5
    –ú–æ–º–µ–Ω—Ç –∏–Ω–µ—Ä—Ü–∏–∏=  41662.5
    –†–∞–∑–º—ã—Ç–æ—Å—Ç—å: 
    –≠–Ω—Ç—Ä–æ–ø–∏–π–Ω–∞—è –º–µ—Ä–∞=  (50.0, 1.0)
    –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 1 (–ª–∏–Ω–µ–π–Ω–∞—è)=  1.0
    –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 2 (–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è)=  1.0
    


    
![png](output_18_3.png)
    


    –í—ã—Å–æ—Ç–∞=  1
    –ú–æ—â–Ω–æ—Å—Ç—å=  41
    –î–∏–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω–∏–π:  (4, 99)
    –ú–∞–∫—Å–∏–º—É–º—ã:  (4, 48.292682926829265, 99)
    –¶–µ–Ω—Ç—Ä —Ç—è–∂–µ—Å—Ç–∏=  48.292682926829265
    –ú–æ–º–µ–Ω—Ç –∏–Ω–µ—Ä—Ü–∏–∏=  33354.487804878045
    –†–∞–∑–º—ã—Ç–æ—Å—Ç—å: 
    –≠–Ω—Ç—Ä–æ–ø–∏–π–Ω–∞—è –º–µ—Ä–∞=  (-0.0, -0.0)
    –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 1 (–ª–∏–Ω–µ–π–Ω–∞—è)=  0.0
    –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 2 (–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è)=  0.0
    

–ß–∞—Å—Ç—å 10: –§—É–Ω–∫—Ü–∏—è –Ω–µ—á–µ—Ç–∫–æ–≥–æ –∫–≤–∞–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è FS_quantificator –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–≤–∞–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (–º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã) –∫ –Ω–µ—á–µ—Ç–∫–æ–º—É –º–Ω–æ–∂–µ—Å—Ç–≤—É. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –∫–≤–∞–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ 'ochen' (–æ—á–µ–Ω—å), 'navernoe' (–Ω–∞–≤–µ—Ä–Ω–æ–µ) –∏ 'ne' (–Ω–µ)


```python
def FS_quantificator(FS, quantificators=['ochen']):
    mas = np.array(list(FS.items())).T
    for el in np.flip(quantificators, axis=0):
        if el == 'ochen':
            mas[1] = np.square(mas[1])
        elif el == 'navernoe':
            mas[1] = np.sqrt(mas[1])
        elif el == 'ne':
            mas[1] = 1 - mas[1]
        else:
            print('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–≤–∞–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä ', el,
                  '. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—á–µ–Ω—å, –Ω–∞–≤–µ—Ä–Ω–æ–µ –∏–ª–∏ –Ω–µ')
    return dict(mas.T)

```

–ß–∞—Å—Ç—å 11: –ü—Ä–∏–º–µ—Ä—ã –Ω–µ—á–µ—Ç–∫–∏—Ö –∫–≤–∞–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é FS_quantificator –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–≤–∞–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –∫ –Ω–µ—á–µ—Ç–∫–æ–º—É –º–Ω–æ–∂–µ—Å—Ç–≤—É –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.


```python
# quants=[['ne'], ['ochen'], ['navernoe']]
# labels=['ne', 'ochen', 'navernoe']
# FS_plot([FS_quantificator(Pr1, quantificators=x) for x in quants], labels=labels)

# quants=[['ne', 'ochen'], ['ochen', 'ne'], ['navernoe', 'ne', 'ochen']]
# labels=['ne ochen', 'ochen ne', 'navernoe ne ochen']
# FS_plot([FS_quantificator(Pr1, quantificators=x) for x in quants], labels=labels)
```

–ß–∞—Å—Ç—å 12: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è (FS_union) –∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è (FS_intersection) –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤ FSs, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –≤–µ—Å–∞ Ps –∏ –º–µ—Ç–æ–¥ ('minmax' –∏–ª–∏ 'probability').


```python
def FS_union(FSs, Ps=None, method='minmax'):
    U = set()
    for FS in FSs:
        U = set.union(U, FS.keys())
    res = dict()
    for el in U:
        s_mu = []
        for idx, FS in enumerate(FSs):
            p = 1 if Ps is None else Ps[idx]
            s_mu.append(F_And([p, FS.get(el, 0)], method=method))
        res[el] = F_Or(s_mu, method=method)
    return res


def FS_intersection(FSs, Ps=None, method='minmax'):
    U = set()
    for FS in FSs:
        U = set.union(U, FS.keys())
    res = dict()
    for el in U:
        s_mu = []
        for idx, FS in enumerate(FSs):
            p = 1 if Ps is None else Ps[idx]
            s_mu.append(F_And([p, FS.get(el, 0)], method=method))
        res[el] = F_And(s_mu, method=method)
    return res
```

–ß–∞—Å—Ç—å 13: –ü—Ä–∏–º–µ—Ä—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ FS_union –∏ FS_intersection —Å –Ω–µ—á–µ—Ç–∫–∏–º–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏ Pr1 –∏ Pr2. –û–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞, –∏—Ö –º–∏–Ω–∏–º–∞–∫—Å–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∏ –∏—Ö –º–∏–Ω–∏–º–∞–∫—Å–Ω–æ–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ.


```python
FS_plot([Pr1, Pr2], labels=['Equal', 'Less'], title='–ò—Å—Ö–æ–¥–Ω—ã–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞')  # –£–±—Ä–∞–ª –∫–æ–¥–∏—Ä–æ–≤–∫—É
FS_plot([FS_intersection([Pr1, Pr2], Ps=[1, 1], method='minmax'),
         FS_union([Pr1, Pr2], Ps=[1, 1], method='minmax')], labels=['–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ', '–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ'],
        title='–ú–∏–Ω–∏–º–∞–∫—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥')  # –£–±—Ä–∞–ª –∫–æ–¥–∏—Ä–æ–≤–∫—É
# FS_plot([FS_intersection([Pr1,Pr2], Ps=[1,1], method='probability'), FS_union([Pr1,Pr2], Ps=[1,1], method='probability')], labels=['–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ', '–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ'], title='–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥')
```


    
![png](output_26_0.png)
    



    
![png](output_26_1.png)
    


–ß–∞—Å—Ç—å 14: –ü—Ä–∏–º–µ—Ä –≤–∑–≤–µ—à–µ–Ω–Ω–æ–≥–æ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π –ø—Ä–∏–º–µ—Ä –≤–∑–≤–µ—à–µ–Ω–Ω–æ–≥–æ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–∞–∫ –º–∏–Ω–∏–º–∞–∫—Å–Ω–æ–≥–æ, —Ç–∞–∫ –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–æ–≤.


```python
'''
p=0.4
otv1=FS_union([Pr1,Pr2], Ps=[p,1-p], method='minmax')
otv2=FS_union([Pr1,Pr2], Ps=[p,1-p], method='probability')
FS_plot([otv1, otv2], labels=['–º–∏–Ω–∏–º–∞–∫—Å–Ω—ã–π', '–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–π'], title='–ü–µ—Ä–≤–∞—è –∑–∞–¥–∞—á–∞, p='+str(p))
'''
```




    "\np=0.4\notv1=FS_union([Pr1,Pr2], Ps=[p,1-p], method='minmax')\notv2=FS_union([Pr1,Pr2], Ps=[p,1-p], method='probability')\nFS_plot([otv1, otv2], labels=['–º–∏–Ω–∏–º–∞–∫—Å–Ω—ã–π', '–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–π'], title='–ü–µ—Ä–≤–∞—è –∑–∞–¥–∞—á–∞, p='+str(p))\n"



–ß–∞—Å—Ç—å 15: –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–∞–¥ –Ω–µ—á–µ—Ç–∫–∏–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∏ —á–∏—Å–ª–æ–º

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è FS_arifm_operation_Num –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –º–µ–∂–¥—É –Ω–µ—á–µ—Ç–∫–∏–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∏ —á–∏—Å–ª–æ–º. –û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ FS, —á–∏—Å–ª–æ num –∏ —Ñ—É–Ω–∫—Ü–∏—é Func, –æ–ø—Ä–µ–¥–µ–ª—è—é—â—É—é –æ–ø–µ—Ä–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–æ–∂–µ–Ω–∏–µ, —É–º–Ω–æ–∂–µ–Ω–∏–µ).


```python
def FS_arifm_operation_Num(FS, num, Func=lambda x, y: x + y):
    mas1 = np.array(list(FS.items())).T
    mas1[0] = Func(mas1[0], num)
    return dict(mas1.T)
```

–ß–∞—Å—Ç—å 16: –ü—Ä–∏–º–µ—Ä—ã –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å —á–∏—Å–ª–∞–º–∏

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–µ—á–µ—Ç–∫–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–µ "–ª–µ–≥–∫–∏–π –≤–µ—Å" (l_Giri) –∏ "—Ç—è–∂–µ–ª—ã–π –≤–µ—Å" (h_Giri), –∏—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏—é triangle_FS. –ó–∞—Ç–µ–º –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è FS_arifm_operation_Num –ø—É—Ç–µ–º —É–º–Ω–æ–∂–µ–Ω–∏—è –Ω–µ—á–µ—Ç–∫–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ "–ª–µ–≥–∫–∏–π –≤–µ—Å" –Ω–∞ 2.


```python
Giri = np.array([8., 12., 16., 24., 32., 48., 64., 72., 128.])
l_Giri = triangle_FS(Giri, b=8., d=64., h=1, form='equal')
h_Giri = triangle_FS(Giri, b=16., d=64., h=1, form='greater')
FS_plot([l_Giri, h_Giri], title='–õ–µ–≥–∫–∞—è –∏ —Ç—è–∂–µ–ª–∞—è –≥–∏—Ä–∏')

l2_Giri = FS_arifm_operation_Num(l_Giri, 2, Func=lambda x, y: x * y)
FS_plot([l_Giri, l2_Giri], labels=['–ª–µ–≥–∫–∞—è', '2*–ª–µ–≥–∫–∞—è'], title='2 –ª–µ–≥–∫–∏–µ –≥–∏—Ä–∏')
```


    
![png](output_32_0.png)
    



    
![png](output_32_1.png)
    


–ß–∞—Å—Ç—å 17: –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–∞–¥ –Ω–µ—á–µ—Ç–∫–∏–º–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è FS_arifm_operation_Set –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –º–µ–∂–¥—É –¥–≤—É–º—è –Ω–µ—á–µ—Ç–∫–∏–º–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏. –û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤–∞ FS1 –∏ FS2, —Ñ—É–Ω–∫—Ü–∏—é Func, –æ–ø—Ä–µ–¥–µ–ª—è—é—â—É—é –æ–ø–µ—Ä–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–æ–∂–µ–Ω–∏–µ), –º–µ—Ç–æ–¥ ('minmax') –∏ —Ñ–ª–∞–≥ clearing –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –º–µ–Ω–µ–µ –∑–Ω–∞—á–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.


```python
def FS_arifm_operation_Set(FS1, FS2, Func=lambda x, y: x + y, method='minmax', clearing=False):
    res = dict()
    for p1, p2 in list(product(FS1.keys(), FS2.keys())):
        res[Func(p1, p2)] = F_Or([F_And([FS1[p1], FS2[p2]], method=method), res.get(Func(p1, p2), 0)],
                                 method=method)
    if clearing:
        res1 = dict()
        res2 = dict()
        mas_T = sorted(res.items(), reverse=True, key=lambda x: x[0])
        mu = -1
        for el in mas_T:
            if el[1] >= mu:
                res1[el[0]] = el[1]
                mu = el[1]
        mas_T = sorted(res.items(), reverse=False, key=lambda x: x[0])
        mu = -1
        for el in mas_T:
            if el[1] >= mu:
                res2[el[0]] = el[1]
                mu = el[1]
        # print ('res1= ' + str(res1))
        # print ('res2= ' + str(res2))
        return FS_union([res1, res2])
    else:
        return res
```

–ß–∞—Å—Ç—å 18 (–ó–∞–¥–∞–Ω–∏–µ 2 - –ü—Ä–∏–≤–µ—Å—Ç–∏ —Å–≤–æ–∏ –ø—Ä–∏–º–µ—Ä—ã –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –Ω–µ—á–µ—Ç–∫–∏–º–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏): –ü—Ä–∏–º–µ—Ä—ã –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –Ω–µ—á–µ—Ç–∫–∏–º–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ FS_arifm_operation_Set. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Å—É–º–º–∞ –¥–≤—É—Ö –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤ "–ª–µ–≥–∫–∏–π –≤–µ—Å" —Å –æ—á–∏—Å—Ç–∫–æ–π –∏ —Å—É–º–º–∞ –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤ "–ª–µ–≥–∫–∏–π –≤–µ—Å" –∏ "—Ç—è–∂–µ–ª—ã–π –≤–µ—Å" —Å –æ—á–∏—Å—Ç–∫–æ–π –∏ –±–µ–∑ –æ—á–∏—Å—Ç–∫–∏.


```python
l21_Giri = FS_arifm_operation_Set(l_Giri, l_Giri, clearing=True)
FS_plot([l2_Giri, l21_Giri], labels=['2*–ª–µ–≥–∫–∞—è', '–ª–µ–≥–∫–∞—è+–ª–µ–≥–∫–∞—è'], title='2 –ª–µ–≥–∫–∏–µ –≥–∏—Ä–∏')

lh_Giri = FS_arifm_operation_Set(l_Giri, h_Giri)

lhc_Giri = FS_arifm_operation_Set(l_Giri, h_Giri, clearing=True)

# —Ä–∞–∑–Ω–æ—Å—Ç—å
sub_Giri = FS_arifm_operation_Set(h_Giri, l_Giri, Func=lambda x, y: x - y, clearing=True)
FS_plot([h_Giri, l_Giri, sub_Giri], labels=['—Ç—è–∂–µ–ª–∞—è', '–ª–µ–≥–∫–∞—è', '—Ç—è–∂–µ–ª–∞—è-–ª–µ–≥–∫–∞—è'], title='–†–∞–∑–Ω–æ—Å—Ç—å —Ç—è–∂–µ–ª–æ–π –∏ –ª–µ–≥–∫–æ–π –≥–∏—Ä–∏')

# —É–º–Ω–æ–∂–µ–Ω–∏–µ
mult_Giri = FS_arifm_operation_Set(l_Giri, h_Giri, Func=lambda x, y: x * y, clearing=True)
FS_plot([l_Giri, h_Giri, mult_Giri], labels=['–ª–µ–≥–∫–∞—è', '—Ç—è–∂–µ–ª–∞—è', '–ª–µ–≥–∫–∞—è*—Ç—è–∂–µ–ª–∞—è'], title='–£–º–Ω–æ–∂–µ–Ω–∏–µ –ª–µ–≥–∫–æ–π –∏ —Ç—è–∂–µ–ª–æ–π –≥–∏—Ä–∏')

# –¥–µ–ª–µ–Ω–∏–µ (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–µ–ª–µ–Ω–∏—è –Ω–∞ 0)
def safe_division(x, y):
    if y == 0:
        return 0
    else:
        return x / y

div_Giri = FS_arifm_operation_Set(h_Giri, l_Giri, Func=safe_division, clearing=True)
FS_plot([h_Giri, l_Giri, div_Giri], labels=['—Ç—è–∂–µ–ª–∞—è', '–ª–µ–≥–∫–∞—è', '—Ç—è–∂–µ–ª–∞—è/–ª–µ–≥–∫–∞—è'], title='–î–µ–ª–µ–Ω–∏–µ —Ç—è–∂–µ–ª–æ–π –∏ –ª–µ–≥–∫–æ–π –≥–∏—Ä–∏')

```


    
![png](output_36_0.png)
    



    
![png](output_36_1.png)
    



    
![png](output_36_2.png)
    



    
![png](output_36_3.png)
    


–ß–∞—Å—Ç—å 19: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã –Ω–µ—á–µ—Ç–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –Ω–µ—á–µ—Ç–∫–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –¥–ª—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã: "Teplo" (–¢–µ–ø–ª–æ), "Holodno" (–•–æ–ª–æ–¥–Ω–æ) –∏ "Zharko" (–ñ–∞—Ä–∫–æ). –¢–∞–∫–∂–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–ª—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (Stemp).


```python
'''
–ù–µ—á–µ—Ç–∫–∏–π –≤—ã–≤–æ–¥
'''

Stemp = np.arange(1, 41, 0.25)
Teplo = triangle_FS(Stemp, a=10, b=20, d=30)
Holodno = triangle_FS(Stemp, a=10, b=20, d=30, form='less')
Zharko = triangle_FS(Stemp, a=10, b=20, d=30, form='greater')
# FS_plot([Teplo, Holodno, Zharko], labels=['–¢–µ–ø–ª–æ', '–•–æ–ª–æ–¥–Ω–æ', '–ñ–∞—Ä–∫–æ'] )

```

–ß–∞—Å—Ç—å 20: –û–±—â–∞—è –Ω–µ—á–µ—Ç–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è FS_func —è–≤–ª—è–µ—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –∫ –Ω–µ—á–µ—Ç–∫–æ–º—É –º–Ω–æ–∂–µ—Å—Ç–≤—É. –û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ FSx, —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ Uy, —Ñ—É–Ω–∫—Ü–∏—é Func –∏ –º–µ—Ç–æ–¥ ('minmax' –∏–ª–∏ 'probability').


```python
def FS_func(FSx, Uy, Func=lambda x, Ux, Uy: np.array([1] * len(Uy)), method='minmax'):
    masx = list(FSx.items())
    Ux = np.array(masx).T[0]
    masmu = np.array([0] * len(Uy))
    if method == 'minmax':
        for el in Ux:
            masmu = np.max([masmu, np.min([Func(el, Ux, Uy), [FSx[el]] * len(Uy)], axis=0)], axis=0)
    elif method == 'probability':
        for el in Ux:
            mm = Func(el, masx, Uy) * FSx[el]
            masmu = masmu + mm - masmu * mm
    else:
        print('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –º–µ—Ç–æ–¥', method)
    return dict(np.array([Uy, masmu]).T)

```

–ß–∞—Å—Ç—å 21: –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∞—è –Ω–µ—á–µ—Ç–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è (FS_f)

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è FS_f —è–≤–ª—è–µ—Ç—Å—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–π –Ω–µ—á–µ—Ç–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –≤ —Å–∏—Å—Ç–µ–º–µ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞.


```python
def FS_f(x, Ux, Uy):
    minx = np.min(Ux)
    miny = np.min(Uy)
    maxy = np.max(Uy)
    k = float(x - minx) / float(Ux.max() - minx)
    gran = k * (maxy - miny) + miny

    arr1 = np.array([], 'float64')
    for y in Uy:
        if (y == gran):
            arr1 = np.append(arr1, 1.)
        elif y < gran:
            arr1 = np.append(arr1, float(y - miny) / (gran - miny))
        else:
            arr1 = np.append(arr1, float(maxy - y) / (maxy - gran))
    return arr1
```

–ß–∞—Å—Ç—å 22: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã –Ω–µ—á–µ—Ç–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–µ—á–µ—Ç–∫–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–µ—á–µ—Ç–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞. –í–∫–ª—é—á–∞–µ—Ç –Ω–µ—á–µ—Ç–∫–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –¥–ª—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã ("T_high", "T_middle", "T_low"), –¥–∞–≤–ª–µ–Ω–∏—è ("P_high", "P_middle", "P_low") –∏ —Ä–∞—Å—Ö–æ–¥–∞ ("R_high", "R_middle", "R_low").


```python
Oboroti = np.arange(100, 2001, 10)
# FS_plot([FS_func(Holodno, Oboroti, Func=FS_f), FS_func(Teplo, Oboroti, Func=FS_f), FS_func(Zharko, Oboroti, Func=FS_f)], labels=['–•–æ–ª–æ–¥–Ω–æ', '–¢–µ–ø–ª–æ', '–ñ–∞—Ä–∫–æ'], title='–û–±–æ—Ä–æ—Ç—ã –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ –ø—Ä–∏')

quants = [['ne'], ['ochen'], ['navernoe']]
# FS_plot( [FS_quantificator(Teplo, quantificators=x) for x in quants], labels=['–Ω–µ','–æ—á–µ–Ω—å','–Ω–∞–≤–µ—Ä–Ω–æ–µ'], title='—Ç–µ–ø–ª–æ')
# FS_plot( [FS_func(FS_quantificator(Teplo, quantificators=x), Oboroti, Func=FS_f) for x in quants], labels=['–Ω–µ','–æ—á–µ–Ω—å','–Ω–∞–≤–µ—Ä–Ω–æ–µ'], title='–æ–±–æ—Ä–æ—Ç—ã –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ –ø—Ä–∏ —Ç–µ–ø–ª–æ')
S_T = np.arange(0., 151., 1.)
T_high = triangle_FS(S_T, b=50., d=100., h=1, form='greater')
T_middle = triangle_FS(S_T, b=50., c=100., h=1, form='equal')
T_low = triangle_FS(S_T, a=50., b=100., h=1, form='less')
# FS_plot([T_high, T_middle, T_low], labels=['–í—ã—Å–æ–∫–∞—è', '–°—Ä–µ–¥–Ω—è—è', '–ù–∏–∑–∫–∞—è'], title='–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã')


S_T = np.arange(0., 101., 1.)
P_high = triangle_FS(S_T, b=0., h=1, form='greater')
P_middle = triangle_FS(S_T, b=50., h=1, form='equal')
P_low = triangle_FS(S_T, b=100., h=1, form='less')
# FS_plot([P_high, P_middle, P_low], labels=['–í—ã—Å–æ–∫–æ–µ', '–°—Ä–µ–¥–Ω–µ–µ', '–ù–∏–∑–∫–æ–µ'], title='–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å –¥–∞–≤–ª–µ–Ω–∏—è')


S_R = np.arange(0., 8.1, 0.1)
R_high = triangle_FS(S_R, a=4., b=6., d=8., h=1, form='equal')
R_middle = triangle_FS(S_R, a=2., b=4., d=6., h=1, form='equal')
R_low = triangle_FS(S_R, a=0., b=2., d=4., h=1, form='equal')
# FS_plot([R_high, R_middle, R_low], labels=['–í—ã—Å–æ–∫–∏–π', '–°—Ä–µ–¥–Ω–∏–π', '–ù–∏–∑–∫–∏–π'], title='–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å —Ä–∞—Å—Ö–æ–¥–∞')
```

–ß–∞—Å—Ç—å 23: –ü—Ä–∏–º–µ—Ä –Ω–µ—á–µ—Ç–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ—á–µ—Ç–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞. –ó–∞–¥–∞—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (T) –∏ —Ä–∞—Å—Ö–æ–¥–∞ (R), –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è —Å—Ç–µ–ø–µ–Ω–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª (pp1, pp2, pp3), –∞ –∑–∞—Ç–µ–º —ç—Ç–∏ —Å—Ç–µ–ø–µ–Ω–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤ –¥–ª—è –¥–∞–≤–ª–µ–Ω–∏—è ("P_low", "P_middle", "P_high") —Å –ø–æ–º–æ—â—å—é FS_union.


```python
T = 85  # –ü—É—Å—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
R = 3.5  # –ü—É—Å—Ç—å —Ä–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞
pp1 = F_And([T_low[T], R_low[R]])
pp2 = T_middle[T]
pp3 = F_Or([T_high[T], R_high[R]])
print(pp1, pp2, pp3)
res_minmax = FS_union([P_low, P_middle, P_high], Ps=[pp1, pp2, pp3])
# FS_plot([res_minmax])
# r=FS_describe(res_minmax)
```

    0.25 1 0.7
    

–ß–∞—Å—Ç—å 24: –ï—â–µ –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä –Ω–µ—á–µ—Ç–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –µ—â–µ –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä –Ω–µ—á–µ—Ç–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É. –û–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –Ω–µ—á–µ—Ç–∫–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤—Ä–∞—â–µ–Ω–∏—è –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ ("Niskie", "Srednie", "Visokie") –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–µ—á–µ—Ç–∫–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã ("Holodno", "Teplo", "Zharko") –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–¥—Ö–æ–¥—è—â–µ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤—Ä–∞—â–µ–Ω–∏—è –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞. –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –º–∏–Ω–∏–º–∞–∫—Å–Ω–æ–µ, —Ç–∞–∫ –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–µ –Ω–µ—á–µ—Ç–∫–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ.


```python
Sob = np.arange(0, 2000., 10.)
Niskie = triangle_FS(Sob, a=600, b=800, d=1000, h=1, form='less')
Visokie = triangle_FS(Sob, a=600, b=800, d=1000, h=1, form='greater')
Srednie = triangle_FS(Sob, a=600, b=800, d=1000, h=1, form='equal')
# FS_plot([Niskie, Srednie, Visokie], labels=['–ù–∏–∑–∫–∏–µ', '–°—Ä–µ–¥–Ω–∏–µ', '–í—ã—Å–æ–∫–∏–µ'], title='–û–±–æ—Ä–æ—Ç—ã –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞')

T = 23
pp1 = Holodno[T]
pp2 = Teplo[T]
pp3 = Zharko[T]
res1 = FS_union([Niskie, Srednie, Visokie], Ps=[pp1, pp2, pp3], method='minmax')
res2 = FS_union([Niskie, Srednie, Visokie], Ps=[pp1, pp2, pp3], method='probability')
# FS_plot([res1, res2], labels=['minmax', 'probability'], title='–û–±–æ—Ä–æ—Ç—ã –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞')
# FS_plot([res1], labels=['minmax'], title='–û–±–æ—Ä–æ—Ç—ã –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞')

# print ('–ù–∞ –æ—Å–Ω–æ–≤–µ –º–∏–Ω–∏–º–∞–∫—Å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞')
# r=FS_describe(res1)

# print ('–ù–∞ –æ—Å–Ω–æ–≤–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞')
# r=FS_describe(res2)
```

    <ipython-input-12-42e455d9283a>:10: DeprecationWarning: `product` is deprecated as of NumPy 1.25.0, and will be removed in NumPy 2.0. Please use `prod` instead.
      s_mu.append(F_And([p, FS.get(el, 0)], method=method))
    

–ß–∞—Å—Ç—å 25 (–ó–∞–¥–∞–Ω–∏–µ 1 - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ—Ç—Å–µ—á–µ–Ω–∏—è –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤ (A¬¨ùêµ)): –§—É–Ω–∫—Ü–∏—è –æ—Ç—Å–µ—á–µ–Ω–∏—è (—Ä–∞–∑–Ω–æ—Å—Ç–∏) –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤


```python
def FS_clip(FS1, FS2, method='minmax'):
    """
    –í—ã—á–∏—Å–ª—è–µ—Ç –æ—Ç—Å–µ—á–µ–Ω–∏–µ (—Ä–∞–∑–Ω–æ—Å—Ç—å) –¥–≤—É—Ö –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤ (A ¬¨ B).
    Œº(A ¬¨ B)(x) = max(0, ŒºA(x) - ŒºB(x), 0)  if x in A
                 0                      otherwise

    Args:
        FS1: –ü–µ—Ä–≤–æ–µ –Ω–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ (A).
        FS2: –í—Ç–æ—Ä–æ–µ –Ω–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ (B).
        method: –ú–µ—Ç–æ–¥ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –æ—Å—Ç–∞–≤–ª–µ–Ω –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏).

    Returns:
        –°–ª–æ–≤–∞—Ä—å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–µ –Ω–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ (A ¬¨ B).
    """
    res = {}
    for el in FS1.keys():
        mu_A = FS1.get(el, 0)  # –°—Ç–µ–ø–µ–Ω—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ FS1 (A)
        mu_B = FS2.get(el, 0)  # –°—Ç–µ–ø–µ–Ω—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ FS2 (B)
        res[el] = max(0, mu_A - mu_B)  # –í—ã—á–∏—Å–ª—è–µ–º max(0, ŒºA(x) - ŒºB(x))
    return res

Spr = np.arange(1, 101, 1)
Pr1 = triangle_FS(Spr, a=20, b=40, c=60, d=80)
Pr2 = triangle_FS(Spr, a=30, b=50, c=70, d=90)

clipped_FS = FS_clip(Pr1, Pr2)
FS_plot([Pr1, Pr2, clipped_FS], labels=['Pr1', 'Pr2', 'Pr1 ¬¨ Pr2'], title='–û—Ç—Å–µ—á–µ–Ω–∏–µ –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤')
```


    
![png](output_50_0.png)
    


–ß–∞—Å—Ç—å 26 (–ó–∞–¥–∞–Ω–∏–µ 3 - –ü—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –Ω–µ—á–µ—Ç–∫–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π): –§—É–Ω–∫—Ü–∏—è –Ω–µ—á–µ—Ç–∫–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è


```python
def fuzzy_relation(U, V, relation_matrix):
    """
    –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–µ—á–µ—Ç–∫–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É –¥–≤—É–º—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏.

    Args:
        U: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–ª—è –ø–µ—Ä–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Å—å x).
        V: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Å—å y).
        relation_matrix: –ú–∞—Å—Å–∏–≤ NumPy, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –Ω–µ—á–µ—Ç–∫–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ. –≠–ª–µ–º–µ–Ω—Ç
                         relation_matrix[i, j] –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç–µ–ø–µ–Ω—å –æ—Ç–Ω–æ—à–µ–Ω–∏—è
                         –º–µ–∂–¥—É U[i] –∏ V[j].

    Returns:
        –°–ª–æ–≤–∞—Ä—å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –Ω–µ—á–µ—Ç–∫–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ, –≥–¥–µ –∫–ª—é—á–∏ - —ç—Ç–æ –∫–æ—Ä—Ç–µ–∂–∏ (u, v),
        –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–µ –ø–∞—Ä—ã –∏–∑ U –∏ V, –∞ –∑–Ω–∞—á–µ–Ω–∏—è - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ
        —Å—Ç–µ–ø–µ–Ω–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –∏–∑ relation_matrix.
    """

    if len(U) != relation_matrix.shape[0] or len(V) != relation_matrix.shape[1]:
        raise ValueError("–†–∞–∑–º–µ—Ä—ã U, V –∏ relation_matrix –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º—ã.")

    relation = {}
    for i, u in enumerate(U):
        for j, v in enumerate(V):
            relation[(u, v)] = relation_matrix[i, j]
    return relation

# –ü—Ä–∏–º–µ—Ä: –ù–µ—á–µ—Ç–∫–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ "–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–≤–Ω–æ" –º–µ–∂–¥—É —á–∏—Å–ª–∞–º–∏.

# –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞:
X = np.arange(1, 6, 1)  # [1, 2, 3, 4, 5]
Y = np.arange(1, 6, 1)  # [1, 2, 3, 4, 5]

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –º–∞—Ç—Ä–∏—Ü—É –Ω–µ—á–µ—Ç–∫–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è:
# –≠—Ç–∞ –º–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç–µ–ø–µ–Ω—å, –≤ –∫–æ—Ç–æ—Ä–æ–π x –∏ y "–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–≤–Ω—ã".
# –ß–µ–º –±–ª–∏–∂–µ x –∏ y, —Ç–µ–º –≤—ã—à–µ —Å—Ç–µ–ø–µ–Ω—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏.
relation_matrix = np.array([
    [1.0, 0.8, 0.6, 0.4, 0.2],  # x = 1
    [0.8, 1.0, 0.8, 0.6, 0.4],  # x = 2
    [0.6, 0.8, 1.0, 0.8, 0.6],  # x = 3
    [0.4, 0.6, 0.8, 1.0, 0.8],  # x = 4
    [0.2, 0.4, 0.6, 0.8, 1.0]   # x = 5
])

# –°–æ–∑–¥–∞–µ–º –Ω–µ—á–µ—Ç–∫–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ:
approx_equal = fuzzy_relation(X, Y, relation_matrix)

# –í—ã–≤–æ–¥–∏–º –Ω–µ—á–µ—Ç–∫–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ:
for (x, y), mu in approx_equal.items():
    print(f"–û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É {x} –∏ {y}: {mu}")
```

    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 1 –∏ 1: 1.0
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 1 –∏ 2: 0.8
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 1 –∏ 3: 0.6
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 1 –∏ 4: 0.4
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 1 –∏ 5: 0.2
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 2 –∏ 1: 0.8
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 2 –∏ 2: 1.0
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 2 –∏ 3: 0.8
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 2 –∏ 4: 0.6
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 2 –∏ 5: 0.4
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 3 –∏ 1: 0.6
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 3 –∏ 2: 0.8
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 3 –∏ 3: 1.0
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 3 –∏ 4: 0.8
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 3 –∏ 5: 0.6
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 4 –∏ 1: 0.4
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 4 –∏ 2: 0.6
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 4 –∏ 3: 0.8
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 4 –∏ 4: 1.0
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 4 –∏ 5: 0.8
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 5 –∏ 1: 0.2
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 5 –∏ 2: 0.4
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 5 –∏ 3: 0.6
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 5 –∏ 4: 0.8
    –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É 5 –∏ 5: 1.0
    

–ß–∞—Å—Ç—å 28 (–ó–∞–¥–∞–Ω–∏–µ 4 - –ü—Ä–∏–≤–µ—Å—Ç–∏ —Å–≤–æ–∏ –ø—Ä–∏–º–µ—Ä—ã –Ω–µ—á–µ—Ç–∫–∏—Ö –ø—Ä–∞–≤–∏–ª —Ä–∞–±–æ—Ç—ã —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã): –ü—Ä–∏–º–µ—Ä—ã –Ω–µ—á–µ—Ç–∫–∏—Ö –ø—Ä–∞–≤–∏–ª –¥–ª—è —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã


```python
# –ù–µ—á–µ—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–æ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã:

# –ü—Ä–∞–≤–∏–ª–æ 1: –ï–°–õ–ò —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ù–∏–∑–∫–∞—è, –¢–û —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ –ù–∏–∑–∫–∞—è
# –ü—Ä–∞–≤–∏–ª–æ 2: –ï–°–õ–ò —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –°—Ä–µ–¥–Ω—è—è, –¢–û —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ –°—Ä–µ–¥–Ω—è—è
# –ü—Ä–∞–≤–∏–ª–æ 3: –ï–°–õ–ò —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –í—ã—Å–æ–∫–∞—è, –¢–û —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ –í—ã—Å–æ–∫–∞—è

def apply_fuzzy_rules(temperature):
  """
  –ü—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–µ—á–µ—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.

  Args:
    temperature: –ß–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É.

  Returns:
    –°–ª–æ–≤–∞—Ä—å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –≤—ã–≤–µ–¥–µ–Ω–Ω–æ–µ –Ω–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞.
  """

  # –ù–µ—á–µ—Ç–∫–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –¥–ª—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –æ–Ω–∏ —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã)
  # Holodno, Teplo, Zharko –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏

  # –ù–µ—á–µ—Ç–∫–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –æ–Ω–∏ —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã)
  # Niskie, Srednie, Visokie –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏

  # –í—ã—á–∏—Å–ª—è–µ–º —Å—Ç–µ–ø–µ–Ω—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
  low_temp_degree    = Holodno.get(temperature, 0)
  medium_temp_degree = Teplo.get(temperature, 0)
  high_temp_degree   = Zharko.get(temperature, 0)

  # –ü—Ä–∏–º–µ–Ω—è–µ–º –ø—Ä–∞–≤–∏–ª–∞, –∏—Å–ø–æ–ª—å–∑—É—è –æ–ø–µ—Ä–∞—Ç–æ—Ä min –¥–ª—è –∏–º–ø–ª–∏–∫–∞—Ü–∏–∏
  # –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä max –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
  # –ö–∞–∂–¥–æ–µ –ø—Ä–∞–≤–∏–ª–æ –≤–Ω–æ—Å–∏—Ç –≤–∫–ª–∞–¥ –≤ –∏—Ç–æ–≥–æ–≤–æ–µ –Ω–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ, –≤–∑–≤–µ—à–µ–Ω–Ω–æ–µ –ø–æ –µ–≥–æ —Å—Ç–µ–ø–µ–Ω–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏.
  res_low    = {k: min(low_temp_degree, v) for k, v in Niskie.items()}
  res_medium = {k: min(medium_temp_degree, v) for k, v in Srednie.items()}
  res_high   = {k: min(high_temp_degree, v) for k, v in Visokie.items()}

  # –ê–≥—Ä–µ–≥–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É—è –æ–ø–µ—Ä–∞—Ç–æ—Ä max (–Ω–µ—á–µ—Ç–∫–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ)
  # –°–æ–∑–¥–∞–µ–º –∏—Ç–æ–≥–æ–≤–æ–µ –Ω–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ, –±–µ—Ä—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å—Ç–µ–ø–µ–Ω—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞.
  res = {}
  for k in set(res_low) | set(res_medium) | set(res_high):
    res[k] = max(res_low.get(k, 0), res_medium.get(k, 0), res_high.get(k, 0))
  return res
```


```python
# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
temperature = 25  # –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
fan_speed_fuzzy_set = apply_fuzzy_rules(temperature)

temperature1 = 15  # –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
fan_speed_fuzzy_set = apply_fuzzy_rules(temperature1)

temperature2 = 20  # –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
fan_speed_fuzzy_set = apply_fuzzy_rules(temperature2)

# –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –¥–µ—Ñ–∞–∑–∑–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å fan_speed_fuzzy_set, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ç–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞.
# (–î–µ—Ñ–∞–∑–∑–∏—Ñ–∏–∫–∞—Ü–∏—è - —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π —à–∞–≥, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –Ω–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤ –æ–¥–Ω–æ —á–∏—Å–ª–æ.)

# –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞.
FS_plot([fan_speed_fuzzy_set], labels=['–°–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞'], title='–ù–µ—á–µ—Ç–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞')
```


    
![png](output_55_0.png)
    


–ß–∞—Å—Ç—å 29 (–ó–∞–¥–∞–Ω–∏–µ 5 - –ü—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –Ω–µ—á–µ—Ç–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞ (–∞–ª–≥–æ—Ä–∏—Ç–º Mamdani) –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª): –ü—Ä–∏–º–µ—Ä –Ω–µ—á–µ—Ç–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞ Mamdani


```python
def mamdani_inference(temperature, Holodno, Teplo, Zharko, Niskie, Srednie, Visokie):
    """
    –ü—Ä–∏–º–µ–Ω—è–µ—Ç –º–µ—Ç–æ–¥ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞ –ú–∞–º–¥–∞–Ω–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.

    Args:
        temperature: –ß–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É.
        Holodno: –ù–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ "–•–æ–ª–æ–¥–Ω—É—é" —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É.
        Teplo: –ù–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ "–¢–µ–ø–ª—É—é" —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É.
        Zharko: –ù–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ "–ì–æ—Ä—è—á—É—é" —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É.
        Niskie: –ù–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ "–ù–∏–∑–∫—É—é" —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞.
        Srednie: –ù–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ "–°—Ä–µ–¥–Ω—é—é" —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞.
        Visokie: –ù–µ—á–µ—Ç–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ "–í—ã—Å–æ–∫—É—é" —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞.

    Returns:
        –°–ª–æ–≤–∞—Ä—å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –¥–µ—Ñ–∞–∑–∑–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ (—á–µ—Ç–∫–æ–µ) –∑–Ω–∞—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞
        —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ —Ü–µ–Ω—Ç—Ä–æ–∏–¥–∞.
    """

    # 1. –§–∞–∑–∑–∏—Ñ–∏–∫–∞—Ü–∏—è: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—Ö–æ–¥–Ω–æ–≥–æ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞
    low_temp_degree = Holodno.get(temperature, 0)
    medium_temp_degree = Teplo.get(temperature, 0)
    high_temp_degree = Zharko.get(temperature, 0)

    # 2. –û—Ü–µ–Ω–∫–∞ –ø—Ä–∞–≤–∏–ª (–ò–º–ø–ª–∏–∫–∞—Ü–∏—è): –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ min –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–∏–ª—ã –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞
    rule1_strength = min(low_temp_degree, 1)   # –ï–°–õ–ò —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –•–æ–ª–æ–¥–Ω–∞—è, –¢–û —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ –ù–∏–∑–∫–∞—è
    rule2_strength = min(medium_temp_degree, 1) # –ï–°–õ–ò —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¢–µ–ø–ª–∞—è, –¢–û —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ –°—Ä–µ–¥–Ω—è—è
    rule3_strength = min(high_temp_degree, 1)  # –ï–°–õ–ò —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ì–æ—Ä—è—á–∞—è, –¢–û —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ –í—ã—Å–æ–∫–∞—è

    # 3. –ê–≥—Ä–µ–≥–∞—Ü–∏—è: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π –ø—Ä–∞–≤–∏–ª —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ max
    # –û–±—Ä–µ–∑–∫–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö –Ω–µ—á–µ—Ç–∫–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∏–ª—ã –ø—Ä–∞–≤–∏–ª
    aggregated_fs = {}
    for speed, mu in Niskie.items():
        aggregated_fs[speed] = max(aggregated_fs.get(speed, 0), min(rule1_strength, mu))
    for speed, mu in Srednie.items():
        aggregated_fs[speed] = max(aggregated_fs.get(speed, 0), min(rule2_strength, mu))
    for speed, mu in Visokie.items():
        aggregated_fs[speed] = max(aggregated_fs.get(speed, 0), min(rule3_strength, mu))

    # 4. –î–µ—Ñ–∞–∑–∑–∏—Ñ–∏–∫–∞—Ü–∏—è: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —á–µ—Ç–∫–æ–≥–æ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞
    #    —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ —Ü–µ–Ω—Ç—Ä–æ–∏–¥–∞
    numerator = sum(speed * mu for speed, mu in aggregated_fs.items())
    denominator = sum(mu for speed, mu in aggregated_fs.items())

    if denominator == 0:
        defuzzified_speed = 0  # –ò–∑–±–µ–≥–∞–µ–º –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å
    else:
        defuzzified_speed = numerator / denominator

    return defuzzified_speed

```


```python
# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ Holodno, Teplo, Zharko, Niskie, Srednie, Visokie –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã):

Sob = np.arange(0, 2000., 10.)
Niskie = triangle_FS(Sob, a=600, b=800, d=1000, h=1, form='less')
Visokie = triangle_FS(Sob, a=600, b=800, d=1000, h=1, form='greater')
Srednie = triangle_FS(Sob, a=600, b=800, d=1000, h=1, form='equal')

Stemp = np.arange(1, 41, 0.25)
Teplo = triangle_FS(Stemp, a=10, b=20, d=30)
Holodno = triangle_FS(Stemp, a=10, b=20, d=30, form='less')
Zharko = triangle_FS(Stemp, a=10, b=20, d=30, form='greater')

temperature = 23.0
fan_speed = mamdani_inference(temperature, Holodno, Teplo, Zharko, Niskie, Srednie, Visokie)
print(f"–ü—Ä–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ {temperature}: —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ = {fan_speed}")
```

    –ü—Ä–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ 23.0: —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞ = 1228.6516853932567
    
